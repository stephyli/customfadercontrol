<!DOCTYPE html>
<html>
<head>
<style>
.circle{
  display:inline-block;
   background:black;
    width: 200px;
    border-radius: 150px;
    height:200px;
    position:relative;
    -webkit-transform: rotate(50deg);
}
.pointer{
  width:10px;
  height:100px;
  position:absolute;
  background:green;
  top:100px;
  left:95px;

}
.circleContainer{
  display:inline-block;
   background:orange;
    width: 200px;
    height:200px;
    position:absolute;

}
</style>
</head>
<body>
<div id ="circleContainer" class="circleContainer" style="color:blue;">
<div class="circle" id ="circle" onmousedown="circleDown(event)"> 
<div class="pointer"> </div>
	</div>
</div>
<script>
function circleDown(event)
  {
    //pointer via onmousedown event
    var circle = document.getElementById("circle");
    var circleContainer = document.getElementById("circleContainer");
    document.addEventListener("mousemove", circleMove);
    document.addEventListener("mouseup", circleUp);
    //x,y coordinates for onmousedown event
    var mouseDownX=event.clientX;
    var mouseDownY=event.clientY;
    var circleContainerRect= circleContainer.getBoundingClientRect();
    console.log(circleContainerRect);
    var mouseDownYrect=mouseDownY-circleContainerRect.top;
    var mouseDownXrect=mouseDownX-circleContainerRect.left;
   function circleMove(event){
   //x,y coordinates for mousemove event
     var mouseMoveX=event.clientX;
     var mouseMoveY=event.clientY; 
     var mouseMoveYrect=mouseMoveY-circleContainerRect.top;
    var mouseMoveXrect=mouseMoveX-circleContainerRect.left;
 //current change [endpoint(mousemove)-beginning(mousedown)]
     var changeX=mouseMoveXrect-mouseDownXrect;
     var changeY=mouseMoveYrect-mouseDownYrect;   
     //if mouse moves to the right, increase rotation to the right
     
//if mouse moves down, decrease rotation to the left
if (mouseMoveY>mouseDownY){
circle.style.WebkitTransform = "rotate ("+(changeY)+"deg)"; 
}
//if mouse moves up, increase rotation to the right
else if (mouseMoveY<mouseDownY){
circle.style.WebkitTransform = "rotate("+(-changeY)+"deg)"; 
}
}
     
     
 
    function circleUp(event){
      // detect that mouse is not down
      document.removeEventListener("mousemove",circleMove);
      document.removeEventListener("mouseup", circleUp);
    }
  }

</script>
</body>
</html> 
